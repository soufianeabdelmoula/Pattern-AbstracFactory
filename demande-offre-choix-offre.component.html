<form [formGroup]="formGroup" class="d-flex flex-column justify-content-center">
  <div class="d-flex flex-row justify-content-between align-self-center col-9">
    <div class="d-flex flex-column col-4">
      <label>Offre <span class="asterisk">*</span> : </label>
      <mat-form-field appearance="outline" (click)="openSearchOffreDialog()">
        <input formControlName="offreControl" matInput placeholder="Veuillez saisir une offre" readonly/>
        <button  [hidden]="this.idDroit" color="primary" mat-icon-button matSuffix>
          <mat-icon fontIcon="search"></mat-icon>
        </button>
        <mat-error *ngIf="formGroup.controls['offreControl'].hasError('required')">
          Veuillez saisir une offre.
        </mat-error>
      </mat-form-field>
    </div>

    <div class="d-flex flex-column col-4">
      <label>Acteur <span class="asterisk">*</span> : </label>
      <mat-form-field appearance="outline" (click)="openSearchActeurDialog()">
        <input formControlName="acteurControl" matInput placeholder="Veuillez saisir un acteur" readonly/>
        <button  [hidden]="this.idActeur || this.idDroit" color="primary"
                mat-icon-button matSuffix>
          <mat-icon fontIcon="search"></mat-icon>
        </button>
        <mat-error *ngIf="formGroup.controls['acteurControl'].hasError('required')">
          Veuillez saisir un acteur.
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="d-flex justify-content-center col-12 mt-2">
    <div class="d-flex justify-content-center flex-column col-9">
      <label>Commentaire <span class="asterisk">*</span> : </label>
      <mat-form-field appearance="outline">
      <textarea (change)="comment($event)" formControlName="commentaireControl" matInput
                maxlength="1024" placeholder="Veuillez saisir un commentaire"></textarea>
        <mat-hint class="justify-content-end">Caractères
          : {{formGroup.controls['commentaireControl'].getRawValue() ? formGroup.controls['commentaireControl'].getRawValue().length : 0}}
          / 1024
        </mat-hint>
        <mat-error *ngIf="formGroup.controls['commentaireControl'].hasError('required')" class="justify-content-end">
          Veuillez saisir un commentaire.
        </mat-error>
      </mat-form-field>
    </div>
  </div>
  <div class="d-flex flex-row justify-content-center mt-2">
    <div class="d-flex flex-column col-9">
      <label>Pièces jointes :</label>
      <ngx-dropzone (change)="onSelect($event)">
        <ngx-dropzone-label>Déposez les pièces jointes ici
          <mat-icon class="align-bottom" fontIcon="upload"/>
        </ngx-dropzone-label>
        <ngx-dropzone-preview (removed)="onRemove(f)" *ngFor="let f of files" [removable]="true">
          <ngx-dropzone-label>{{ f.name }}</ngx-dropzone-label>
        </ngx-dropzone-preview>
      </ngx-dropzone>
    </div>
  </div>
</form>
